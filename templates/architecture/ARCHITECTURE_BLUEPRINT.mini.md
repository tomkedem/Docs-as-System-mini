<div dir="rtl" style="text-align: right;">

# Architecture Blueprint mini  
מסמך ארכיטקטורה שמגדיר את מבנה המערכת, את הרכיבים העיקריים, את הזרימות המרכזיות ואת גבולות האחריות.  
המסמך משמש כתשתית טכנית לכל שלבי הפיתוח ומאפשר לסוכן לפעול בביטחון בלי להמציא מבנה.

מסמך בפועל  
docs/architecture/ARCHITECTURE_BLUEPRINT.md

יוצר  
אדם או סוכן בפיקוח אדם

מאשר  
ארכיטקט או בעל תפקיד טכני בכיר

> הערה חשובה  
> זהו מסמך תבניתי. כל הדוגמאות בו הן להמחשה בלבד.  
> בכל פרויקט יש מבנה אחר, טכנולוגיות אחרות, תהליכים אחרים ותלויות שונות לחלוטין.  
> ייתכן שהמערכת תהיה מונוליתית, ייתכן שהיא תהיה מבוססת הודעות, ולפעמים מדובר בכלי קטן שנועד ללימוד או לניסוי.  
> עליך להתאים כל רכיב במסמך למציאות הטכנית של הפרויקט.

---

## מטרת המסמך  
לתאר בצורה ברורה את המבנה הטכני של המערכת.  
המסמך עונה על שתי שאלות מרכזיות:

● איך המערכת בנויה  
● איך חלקי המערכת מתקשרים זה עם זה  

המסמך אינו מסביר איך לכתוב קוד  
אלא מהו המבנה שעליו הקוד חייב להתיישר.

---

## סקירה מערכתית  
סקירה כללית של חלקי המערכת.  
אין רשימת טכנולוגיות, אין שפות, אין מסדי נתונים.  
זהו תיאור ברמה גבוהה של מה הקיים.

הרכיבים העיקריים יכולים לכלול  
● רכיב קליטה  
● רכיב עיבוד  
● רכיב תצוגה  
● שירותים פנימיים  
● מקור מידע  
● מערכות חיצוניות  
● סוכן ביצועי  

לכל רכיב יש תפקיד ברור והוא אינו חורג מעבר לתפקידו.

---

## חלוקת אחריות בין רכיבים  
כל רכיב מקבל תחום אחריות מדויק כדי למנוע בלבול וערבוב תפקידים.

דוגמה כללית בלבד  
● רכיב קליטה אחראי לקבלת הנתונים ממקור חיצוני  
● רכיב עיבוד אחראי לבדיקה לוגית ועיבוד הנתונים  
● רכיב תצוגה אחראי להעברת המידע למשתמש  
● שירות פנימי אחראי לבקרה על תהליכים  
● סוכן אחראי לביצוע פעולות מוגדרות שלא דורשות שיפוט אנושי  

המטרה היא להבטיח שכל חלק במערכת ברור ומפריד תפקידים.

---

## זרימת נתונים מרכזית  
הבלופרינט חייב להציג את הזרימה המרכזית של המערכת בצורה פשוטה וברורה ללא טכנולוגיה.

הזרימה כוללת  
1. מקור מידע שולח נתון  
2. רכיב קליטה מקבל אותו  
3. מתבצעת בדיקה לוגית בסיסית  
4. הנתון מועבר לרכיב העיבוד  
5. מתבצע עיבוד עסקי  
6. המערכת מפיקה תוצאה  
7. הרכיב המתאים מציג או מחזיר אותה  

במקרה של כשל  
● נוצרת רשומת חריגה  
● התהליך אינו מתקדם  
● המערכת ממשיכה לעבוד ללא השפעה על תהליכים אחרים

## רכיבי המערכת  
בחלק זה מתוארים הרכיבים העיקריים במערכת.  
הפירוט אינו טכנולוגי אלא עקרוני בלבד.  
המטרה היא להסביר את מבנה המערכת בצורה שניתן לממש בכל שפה או תשתית.

רכיבים אפשריים  
● רכיב קליטה  
● רכיב עיבוד  
● רכיב תצוגה  
● רכיב מסרים פנימי  
● רכיב ניטור  
● מקור מידע  
● קונפיגורציית מערכת  
● סוכן הפעולה  

לכל רכיב מוגדר תפקיד אחד ברור בלבד.  
חלוקה זו מונעת חפיפה מיותרת ואי בהירות בזמן פיתוח.

---

## תיאור תפקיד של כל רכיב  
כל רכיב מתואר כך שהמפתח והסוכן יוכלו להבין מה מותר ומה אסור לבצע בו.

דוגמה כללית  
רכיב קליטה  
● מקבל נתונים ממקור חיצוני  
● אינו מבצע עיבוד עסקי  
● מבצע בדיקות בסיסיות בלבד  
● מעביר הלאה לרכיב העיבוד  

רכיב עיבוד  
● אחראי על כל הלוגיקה העסקית  
● מקבל נתונים מרכיב הקליטה  
● מפיק תוצאה ברורה לכל תרחיש  
● אינו מתקשר ישירות עם ממשק המשתמש  

רכיב תצוגה  
● מציג מידע  
● מבצע המרות מתאימות למשתמש  
● אינו שומר מידע  
● אינו מבצע לוגיקה עסקית  

שירות פנימי  
● אחראי על ניהול מצבים ומעקב  
● מסייע לעיבוד בתהליכים מורכבים  
● אינו חשוף למשתמש  

סוכן מערכת  
● מבצע פעולות מוגדרות בלבד  
● אינו פועל ללא מסמך מנחה  
● מדווח על כל פעולה ללוג  

---

## גבולות אחריות  
הגדרת גבולות היא חלק מרכזי בבלופרינט.  
היא מונעת בלבול, קיצורי דרך וחדירת רכיבים לתחומים שאינם שלהם.

דוגמה כללית  
● רכיב תצוגה אינו מטפל בנתונים גולמיים  
● רכיב עיבוד אינו ניגש ישירות לממשק משתמש  
● רכיב קליטה אינו מייצר לוגיקה עסקית  
● סוכן אינו מבצע פעולה שאינה מוגדרת במסמכים  

גבולות אלו חשובים במיוחד כאשר הסוכן מעורב בפיתוח ואסור לו להמציא מבנה חדש.

---

## תלויות בין רכיבים  
המסמך מתאר כיצד כל רכיב תלוי באחר.  
אין כאן שפות או טכנולוגיות אלא לוגיקה של תלות.

תלות אפשרית  
● רכיב קליטה תלוי במקור נתונים  
● רכיב עיבוד תלוי בשירות פנימי  
● רכיב תצוגה תלוי בעיבוד  
● שירות פנימי תלוי בקונפיגורציה  
● הסוכן תלוי בכל מסמכי המערכת  

במקרה של תקלה בתלות  
● המערכת מודיעה על חריגה  
● תהליך אינו מתקדם  
● נשמרת יציבות גם אם אחד הרכיבים כשל  

---

## חוקים ארכיטקטוניים שאסור להפר  
החוקים האלו מגדירים את מהות המערכת מבחינת יציבות, עקביות ואמינות.

חוקי יסוד  
● כל נתון עובר מסלול אחד מוגדר וברור  
● אין דילוג על רכיבים בתהליך  
● כל שינוי משמעותי נרשם ביומן  
● אין יצירת ישות חדשה ללא עדכון המסמכים  
● כל תהליך נשאר עקבי בין סבבים שונים  

החוקים האלו שומרים על מסגרת שהסוכן חייב לכבד בכל פיתוח ובדיקה עצמית.

## מבנה נתונים ברמה מערכתית  
המסמך מתאר כיצד המערכת שומרת, מעבדת ומגישה נתונים ברמה עקרונית.  
אין כאן החלטות על מסד נתונים או פורמטים ספציפיים אלא מבנה לוגי בלבד.

המבנה כולל  
● מהו מקור האמת  
● אילו ישויות לוגיות קיימות  
● אילו ישויות נוצרות בזמן הריצה  
● אילו נתונים חייבים להיות עקביים  
● אילו נתונים יכולים להיות זמניים  

דוגמה כללית בלבד  
● נתון נכנס מרכיב קליטה  
● נוצר עבורו אובייקט לוגי  
● מתבצע עיבוד עסקי  
● נוצר מבנה תוצאה שמועבר לתצוגה  

הסוכן משתמש בשכבה זו כדי להבין איך לשמר עקביות.

---

## ניהול תזמון  
חלק זה מתאר כיצד המערכת מתמודדת עם זמן.  
תזמון הוא מרכיב קריטי ברוב המערכות ולכן יש להגדיר אותו היטב.

תזמון כולל  
● כמה זמן מותר לתהליך להימשך  
● מה קורה אם המידע מגיע באיחור  
● מה קורה אם המידע מגיע מוקדם מדי  
● מהי תדירות העדכון הרצויה  
● אילו פעולות חייבות להתרחש ברצף מסוים  

דוגמאות כלליות  
● נתון שמגיע באיחור משמעותי נכנס למסלול בדיקה מיוחד  
● תהליך חייב להסתיים לפני שמתחיל תהליך הבא  
● דיווח תפעולי חייב להגיע בזמן מוגדר כדי לשמור על עקביות  

---

## אירועים מערכתיים  
אירועים הם חלק מרכזי בכל מערכת יעילה.  
הם מאפשרים מבנה ברור וניתן לחיזוי.

המסמך מתאר  
● אילו אירועים קיימים במערכת  
● מה מפעיל כל אירוע  
● מה קורה במהלך האירוע  
● מהי התוצאה הצפויה  
● מה המערכת עושה במקרה של אירוע חריג  

דוגמה כללית  
אירוע נתון חדש הגיע  
● הרכיב הקולט מקבל את המידע  
● מתבצעת בדיקת תקפות  
● נשלחת בקשה לרכיב העיבוד  
● נוצר מבנה תוצאה  
● הרכיב המתאים מציג את המידע  

אם מתגלה חריגה  
● האירוע מסומן  
● תהליך נעצר  
● נדרש טיפול אנושי במקרה הצורך  

---

## אינטגרציות עם מערכות חיצוניות  
לכל מערכת יש נקודות בהן היא מקבלת או שולחת מידע.  
המסמך מגדיר את התקשורת ברמה לוגית בלבד.

האינטגרציה מתארת  
● מי המקור החיצוני  
● אילו נתונים המערכת מקבלת  
● אילו נתונים היא מחזירה  
● אילו תנאים צריכים להתקיים לפני תהליך  
● מה קורה כאשר המקור אינו זמין  
● איך המערכת מתמודדת עם מידע כפול  

עיקרון מפתח  
האינטגרציה חייבת להיות בטוחה  
אסור שתשבור את המערכת מבפנים  
כל חריגה חייבת להיות מתועדת בלוג  

---

## עקביות מערכתית  
אחד העקרונות החשובים ביותר בארכיטקטורה.  
המערכת חייבת לשמור על עקביות לוגית בכל שלב.

דרישות לעקביות  
● הנתונים נשארים אמינים לאורך התהליך  
● אין מצב שבו שני רכיבים מפרשים מידע בצורה שונה  
● המערכת מציגה למשתמשים את אותה תמונה בכל מסך  
● כל תהליך חוזר מניב את אותה תוצאה  

הסוכן משתמש בעקביות זו כדי לבצע בדיקות עצמיות לפני שהוא כותב קוד.

## עקרונות ארכיטקטוניים  
העקרונות האלו מגדירים את אופי המערכת ואת הדרך שבה היא צריכה להתנהג מבחינה טכנית.  
הם לא תלויים בטכנולוגיה ומאפשרים פיתוח אחיד לאורך זמן.

עקרונות מרכזיים  
● המערכת בנויה באופן מודולרי כך שכל רכיב מקבל אחריות יחידה  
● הנתונים עוברים מסלול מוגדר אחד בלבד ללא קיצורי דרך  
● כל פעולה משמעותית מייצרת רישום ברור ביומן  
● תקלות אינן חוסמות את המערכת אלא מטופלות בדרך מבוקרת  
● המערכת מאפשרת בדיקות עצמיות לאורך כל תהליך  

העקרונות האלו מבטיחים שהמערכת תישאר יציבה גם אחרי מספר שנים.

---

## כללים שאסור לשבור  
חלק זה חשוב במיוחד כי הוא מגדיר את קווי האיפוס של המערכת.  
גם מפתחים וגם הסוכן חייבים לעבוד לפיהם.

כללים מחייבים  
● רכיב תצוגה לא ניגש ישירות למקור נתונים  
● רכיב עיבוד אינו מפעיל פעולות תצוגה  
● נתונים גולמיים אינם מוצגים למשתמש  
● רכיבים אינם מדלגים אחד על השני  
● אין לייצר ישות חדשה או תהליך חדש ללא עדכון המסמכים  

כללים אלו שומרים על ארכיטקטורה יציבה גם כאשר צוות המפתחים משתנה.

---

## אמינות ותפקוד רציף  
המסמך חייב להגדיר את התנהגות המערכת במצבים שונים של עומס או כשל.  
לא מדובר ב SLA טכני אלא בהתנהגות לוגית.

נושאים מרכזיים  
● איך המערכת מתמודדת עם עומסים  
● כיצד היא מזהה מידע בעייתי  
● מה קורה כאשר חלק מהרכיבים אינם זמינים  
● האם חלק מהתהליכים יכולים להמשיך באופן חלקי  
● איך המערכת מחזירה את עצמה למצב תקין  

הגדרה טובה של אמינות מאפשרת לסוכן לבצע בדיקות נכונות לפני כתיבת קוד.

---

## טיפול בחריגות  
כל מערכת חייבת לנהל חריגות בצורה מאורגנת כדי לשמור על יציבות ולא לאבד אמון.

הטיפול כולל  
● זיהוי החריגה  
● עצירת התהליך הרלוונטי  
● רישום ביומן  
● העברת נתונים לתצוגה או לבדיקה אנושית  
● יצירת תהליך התאוששות כאשר אפשר  

היכולת להתמודד היטב עם חריגות משפיעה ישירות על איכות המערכת.

---

## עדכון מבנה המערכת  
המערכת אינה קפואה והמסמך חייב להסביר איך מבצעים שינוי נכון.

כל שינוי חייב לכלול  
● עדכון של המסמך הלוגי  
● עדכון של הבלופרינט  
● עדכון של תכנון הפיתוח  
● בדיקה שהסוכן מבין את השינוי ולא נדבק לגרסה ישנה  
● בדיקות מלאות לפני מיזוג  

תהליך העדכון נועד למנוע שינויי כלאחר יד שישברו תהליכים קיימים.

---

## מחזורי פיתוח  
המסמך מתאר כיצד המערכת מתקדמת בין שלבים שונים של הפיתוח.

המחזור כולל  
● תכנון לפי הבלופרינט  
● כתיבת קוד בצעדים מוגדרים  
● בדיקה עצמית של הסוכן  
● פתיחת בקשה לאישור אנושי  
● מיזוג לאחר בדיקה  

מחזור עבודה ברור מאפשר לסוכן לעבור משלב לשלב בלי פרשנויות.

---

## סיכום  
מסמך Architecture Blueprint mini מגדיר את מבנה המערכת ואת התנהגותה הטכנית ברמה שאינה תלויה בשפה או בפלטפורמה.  
הוא החלק המקשר בין האפיון הלוגי לבין תוכנית הפיתוח ומספק הנחיה ברורה לסוכן ולמפתחים כאחד.

המסמך משלים את שלושת מרכיבי היסוד של Docs as System mini  
● Business mini  
● Project Specification mini  
● Architecture Blueprint mini  

שלושת המסמכים האלו מגדירים את מהות המערכת ומאפשרים לפיתוח להתבצע בצורה מקצועית, יציבה, עקבית ואמינה.

</div>