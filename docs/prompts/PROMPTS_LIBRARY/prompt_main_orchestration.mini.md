# חובה  קובץ זה הוא חלק משיטת Docs as System mini  
# חובה  אין לערוך קובץ זה בתוך פרויקט פעיל  
# חובה  שינוי בקובץ זה יתבצע רק בעדכון רשמי של השיטה

# פרומפט ראשי להפעלת מחזור פיתוח  

מטרה  
להפעיל מחזור פיתוח מלא מתחילתו ועד סופו  
באמצעות שימוש בפרומפטים הייעודיים של השיטה  
ובאופן התואם למסמכים  
למדיניות הסוכן  
ולמדיניות האדם

קבצים רלוונטיים  

מסמכי הפרויקט  
docs/project/BUSINESS_REQUIREMENTS.mini.md  
docs/project/PROJECT_SPEC.mini.md  
docs/project/IMPLEMENTATION_PLAN.mini.md  

מסמכי ארכיטקטורה  
docs/architecture/ARCHITECTURE_BLUEPRINT.mini.md  

מסמכי התנהגות  
docs/agent/AGENT_OPERATIONAL_POLICY.mini.md  
docs/agent/HUMAN_OPERATIONAL_POLICY.mini.md  

קונפיגורציה  
docs/agent/AGENT_CONFIG.mini.yaml  

לוג חי  
docs/logs/IMPLEMENTATION_LOG.mini.md  

עיקרון עבודה  
כל פעולה חייבת להתבצע באמצעות הפעלת פרומפט ייעודי  
אין לבצע לוגיקה שאינה חלק מפרומפט ייעודי  
אין לדלג על שלבים  
אין להמציא תהליכים חדשים  
אין לבצע פעולות Git ישירות ללא הסקריפטים והפרומפטים שאושרו בשיטה  

## לולאת פיתוח מלאה  

הפעל פרומפט הבנת הקשר  
prompt_understand_context.mini.md  
טען את המסמכים הרלוונטיים  
בדוק את הזרימה  
בדוק את הגבולות  
עצור אם קיימת אי בהירות  

הפעל פרומפט הכנת שלב  
prompt_prepare_step.mini.md  
זהה את השלב הפעיל מתוך תוכנית המימוש  
זהה את כל המשימות בשלב  
בדוק תלותיות  
ודא שהשלב מוכן להפעלה  

הפעל פרומפט ביצוע משימה  
prompt_execute_task.mini.md  
בצע את הפעולה הקטנה ביותר הנדרשת  
ערוך רק קבצים המותרים לעריכה  
הצמד למסמכי הפרויקט  
הוסף או עדכן בדיקות יחידה במידת הצורך  
ודא שהתוצאה תואמת לחלוטין את המשימה  

הפעל פרומפט בדיקה עצמית  
prompt_self_check.mini.md  
בדוק שאין סטיות מהמסמכים  
בדוק שכל הבדיקות עוברות  
בדוק שאין שינוי שאינו חלק מהמשימה  
בדוק שקובץ הלוג מוכן לעדכון  

הפעל פרומפט עדכון לוג  
prompt_update_log.mini.md  
קרא את התבנית  
templates/log/IMPLEMENTATION_LOG_TEMPLATE.mini.md  
קרא את הלוג החי  
docs/logs/IMPLEMENTATION_LOG.mini.md  
הרכב רשומה חדשה לפי התבנית  
הוסף אותה לסוף הקובץ  

הפעל פרומפט הכנת קומיט  
prompt_prepare_commit.mini.md  
פרומפט זה כולל גם את שכבת ביצוע הקומיט  
באמצעות הסקריפט הרשמי  
docs/automation/STAGE_AND_COMMIT.sh  
ודא התאמה מלאה בין המסמכים  
הלוג  
ורשימת הקבצים ששונו במשימה  

הפעל פרומפט הכנת בקשת משיכה  
prompt_prepare_pull_request.mini.md  
פרומפט זה כולל גם את שכבת ביצוע פתיחת בקשת המשיכה  
באמצעות הסקריפט הרשמי  
docs/automation/OPEN_PULL_REQUEST.sh  
הפרומפט מייצר כותרת PR  
גוף מובנה  
ותיעוד מלא המבוסס על הלוג  
על תוכנית המימוש  
ועל מסמכי הפרויקט  
אין לפתוח PR בכל דרך אחרת  


## תנאי עצירה מיידיים  

עצור את התהליך בכל אחד מהמצבים הבאים  
כאשר המסמכים אינם עקביים  
כאשר קיים חלק חסר במסמכים  
כאשר המשימה אינה ברורה  
כאשר תוצאות הבדיקות אינן תקינות  
כאשר מתגלה שינוי בקובץ שאינו שייך למשימה  
כאשר נדרש אישור אדם לפי כללי המדיניות  
כאשר יש אינדיקציה לשינוי ידני בקבצים  
שלא בוצע כחלק מהמחזור הנוכחי  

בכל אחד מהמצבים  
עצור  
סכם את מצבך הנוכחי  
ובקש הנחיה לפני המשך פעולה  

## טיפול בשינויים ידניים  

אם זוהו שינויים שבוצעו על ידי אדם  
שאינם חלק מהמחזור הנוכחי  
עצור מייד את רצף העבודה הרגיל  

הפעל את הפרומפט  
prompt_human_edit_mode.mini.md  
לאחר מכן הפעל  
prompt_analyze_human_changes.mini.md  

פעל לפי ההנחיות במסמכי המדיניות  
אל תמשיך למחזור הרגיל  
עד שתתקבל הנחיה מפורשת להמשיך  

## טיפול במצב של ספק  

כאשר יש ספק לגבי  
תוצאה  
התנהגות  
או משימה  

עצור את התהליך  
כתוב סיכום קצר של ההבנה הנוכחית  
זהה את חלק המידע החסר  
בקשת הבהרה היא הפעולה היחידה המותרת  

אין להמשיך לפעול ללא בהירות מלאה  

## טיפול בשגיאה במהלך ביצוע משימה  

במקרה של חריגה מהמצופה  
קרא שוב את מסמכי השלב  
זהה את המקור לשגיאה  
בדוק אם מדובר בשינוי שאינו חלק מהמשימה  
בדוק אם מדובר בנתון חסר  
בדוק אם מדובר בסטיה מה Blueprint  

עצור את המשימה  
בקש הנחיה ברורה  
ולאחר קבלת תשובה  
חזור לפרומפט ביצוע משימה  

## המשך מחזור פיתוח  

לאחר שהקומיט בוצע  
ולאחר בקשת המשיכה  
ניתן להתחיל מחזור חדש  

עבור למשימה הבאה באותו שלב  
או סגור את השלב אם כל משימותיו הושלמו  

כל מחזור פיתוח חייב לכלול  
הבנת הקשר  
הכנת שלב  
ביצוע משימה  
בדיקה עצמית  
עדכון לוג  
הכנת קומיט  
הכנת בקשת משיכה  

## סיכום  

קובץ זה מפעיל את כל מחזור הפיתוח בשיטת Docs as System mini  
הוא אינו מבצע את הפעולות בעצמו  
אלא מפנה לפרומפטים הייעודיים  

כל פעולה חייבת להתבצע באמצעות הפרומפט המתאים  
אין לדלג על שלבים  
אין להוסיף שלבים חדשים  
אין לבצע פעולה שאינה חלק מהשיטה  

הקפדה על קובץ זה  
מבטיחה תהליך פיתוח יציב  
ברור  
ומבוקר  
המשלב אדם וסוכן בצורה נכונה  
ומבוססת מסמכים  
